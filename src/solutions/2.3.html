<!DOCTYPE html>
<!--

ðŸ§© 2.3: Navigation Shortcuts
ðŸŽ¯ Goal: Create shortcuts to certain key areas
-->

<html lang="en">

<head>
  <title>Solution #2.3</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../assets/theme.css">
  <link rel="stylesheet" href="2.3.css">
</head>

<body id="body">
  <a href="#main" class="skipLink">Skip to main content</a>

  <div class="content">
    <header>
      <nav>
        <ul class="u-rowCenterY r-listNull">
          <li><a href="../index.html" class="link">Home</a></li>
          <li><a href="../briefings/2.1.html" class="link">Exercise 2.1</a></li>
          <li><a href="../briefings/2.2.html" class="link isCurrent">Exercise 2.2</a></li>
          <li><a href="../briefings/2.3.html" class="link">Exercise 2.3</a></li>
        </ul>
      </nav>
    </header>

    <main id="main" tabindex="-1">
      <h1 class="title-xl">
        Navigation shortcuts
      </h1>

      <section class="g-card">
        <label class="field">
          <span class="field-txt">Your name</span>
          <input type="text" placeholder="ex: Web Lover">
        </label>
        <p>
          The "skip navigation" idea was invented to give screen reader and keyboard users the
          same capability of going directly to the main content, which most users take for granted.
        </p>
        <p class="footer-txt">
          Learn more about <a href="https://webaim.org/techniques/skipnav/" class="link">Skip Navigation Links</a>
          technique.
        </p>
      </section>

      <section>
        <!-- ðŸ’¡ BONUS #2 -->
        <!-- #2 1/2 Add tabindex so the title is focusable by JS -->
        <h2 class="listTitle js-title" tabindex="-1">A list of things</h2>
        <p>
          Learn more about <a class="link"
            href="https://ashleemboyer.com/blog/accessible-smooth-scroll-to-top-buttons-with-little-code">accessible
            scroll-to-top buttons</a>.
        </p>
        <ul>
          <li>Thing 1</li>
          <li>Thing 2</li>
          <li>Thing 3</li>
          <li>Thing 4</li>
          <li>Thing 5</li>
          <li>Thing 6</li>
          <li>Thing 7</li>
          <li>Thing 8</li>
          <li>Thing 9</li>
          <li>Thing 10</li>
          <li>Thing 11</li>
          <li>Thing 12</li>
          <li>Thing 13</li>
          <li>Thing 14</li>
          <li>Thing 15</li>
          <li>Thing 16</li>
          <li>Thing 17</li>
          <li>Thing 18</li>
          <li>Thing 19</li>
          <li>Thing 20</li>
          <li>Thing 21</li>
          <li>Thing 22</li>
          <li>Thing 23</li>
          <li>Thing 24</li>
          <li>Thing 25</li>
          <li>Thing 26</li>
          <li>Thing 27</li>
          <li>Thing 28</li>
          <li>Thing 29</li>
          <li>Thing 30</li>
          <li>Thing 31</li>
          <li>Thing 32</li>
          <li>Thing 33</li>
          <li>Thing 34</li>
          <li>Thing 35</li>
          <li>Thing 36</li>
          <li>Thing 37</li>
          <li>Thing 38</li>
          <li>Thing 39</li>
          <li>Thing 40</li>
          <li>Thing 41</li>
          <li>Thing 42</li>
          <li>Thing 43</li>
          <li>Thing 43</li>
          <li>Thing 44</li>
          <li>Thing 45</li>
          <li>Thing 46</li>
          <li>Thing 47</li>
          <li>Thing 48</li>
          <li>Thing 49</li>
          <li>Thing 50</li>
        </ul>

        <div class="listBottom">
          <button class="btn btnCircle js-backToTop">
            <span class="sr-only">Back to Top</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512" aria-hidden="true">
              <path
                d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"
                class=""></path>
            </svg>
          </button>
        </div>

        <a href="/" class="link">Back to home</a>

        <script>
          function hasMotionReduced() {
            const motionReduced = window.matchMedia("(prefers-reduced-motion: reduce)");
            if (!motionReduced || motionReduced.matches) {
              // ðŸ€ No-motion approach taken: For old browsers that don't support matchMedia,
              // return true too, giving a simpler experience (eg for slow devices).
              return true;
            }
            return false;
          }

          const elBtnBackToTop = document.getElementsByClassName('js-backToTop')[0];
          const elTitle = document.getElementsByClassName('js-title')[0];

          elBtnBackToTop.addEventListener('click', () => {
            const titlePosition = elTitle.getBoundingClientRect().top + window.pageYOffset;

            window.scrollTo({
              top: titlePosition - 45,
              // ðŸ’¡ Bonus #3 Respect user motion preferences 
              behavior: hasMotionReduced() ? 'auto' : 'smooth',
            });

            // ðŸ’¡ Bonus #2 Focus the element...
            elTitle.focus({
              // ðŸ’¡ without default scroll behavior â€” it's done by window.scrollTo()
              preventScroll: true
            });
          })
        </script>
      </section>
    </main>
  </div>

</body>

</html>