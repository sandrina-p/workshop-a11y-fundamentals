<!DOCTYPE html>
<!--
ðŸ§© 2.2: Hidden elements
ðŸŽ¯ Goal: Make interactive elements only accessible when visible
-->
<html lang="en">

<head>
  <title>Solution 2.2</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/theme.css">
  <link rel="stylesheet" href="2.2.css">
</head>

<body>
  <header class="headerFixed">
    <button class="menu-btn btn btnPrimary js-navTrigger" aria-pressed="false">
      Menu
    </button>

    <!-- ðŸ’¡ 1/3 Add inert attribute to the nav -->
    <div class="menu js-navTarget" inert="true">
      <nav>
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../briefings/2.1.html">Exercise 2.1</a></li>
          <li><a href="../briefings/2.2.html" class="active">Exercise 2.2</a></li>
          <li><a href="../briefings/2.3.html">Exercise 2.3</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="content">
    <h1 class="title-xl">
      Hidden elements
    </h1>

    <div class="block_v">

      <button class="btn btnPrimary js-coolTrigger" aria-pressed="false">Toggle random article</button>

      <div class="coolText js-coolTarget">
        <!-- When hidden, we cannot access it (as expected) because of display:none;. -->
        Here's a <a href="https://en.wikipedia.org/wiki/Special:Random" target="_blank">random wikipedia article.</a>
      </div>

      <div class="part">
        <label class="field">
          <span class="field-txt">Your name</span>
          <input type="text" placeholder="ex: web lover">
        </label>
      </div>

      <div class="part">
        <label class="c-checkbox">
          <!-- ðŸ’¡ 2/3 the fix should be done on the respective CSS file -->
          <input type="checkbox">
          <span>I mark solo checkboxs without reading them.</span>
        </label>
      </div>
    </div>
  </main>

  <!-- ðŸ’¡ 3.1/3 Add inert polifyll. -->
  <script src="../assets/polyfill-inert.js"></script>
</body>

<script>
  // Navigation toggle
  const elNavTrigger = document.getElementsByClassName('js-navTrigger')[0]
  const elNavTarget = document.getElementsByClassName('js-navTarget')[0]

  elNavTrigger.addEventListener('click', function () {
    const isPressed = elNavTrigger.getAttribute('aria-pressed') === 'true'

    const method = isPressed ? 'remove' : 'add';
    elNavTarget.classList[method]('isVisible');
    // ðŸ’¡ 3.2/3 Toggle inert
    elNavTarget.inert = isPressed

    elNavTrigger.setAttribute('aria-pressed', !isPressed)
  })

  /*  ----------------------------------------- *\
  |*  You do not need to touch the code bellow  *|
  |*     but you can see how it was made.       *|
  \** ----------------------------------------- */

  // Cool text toggle
  const elCoolTrigger = document.getElementsByClassName('js-coolTrigger')[0]
  const elCoolTarget = document.getElementsByClassName('js-coolTarget')[0]

  elCoolTrigger.addEventListener('click', function () {
    const isPressed = elCoolTrigger.getAttribute('aria-pressed') === 'true'

    elCoolTrigger.setAttribute('aria-pressed', !isPressed)

    const method = isPressed ? 'remove' : 'add';
    elCoolTarget.classList[method]('isVisible');
  })
</script>

</html>